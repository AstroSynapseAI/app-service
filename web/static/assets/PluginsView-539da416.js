import{u as y}from"./plugin.store-a229da80.js";import{_ as P,g as x,x as p,j as C,B as S,o,k as i,l as e,m as g,n as m,t as k,p as b,a as A,w as V,C as B,b as N,q as R,v as j}from"./index-fd9f4768.js";import{u as q}from"./avatar.store-ad03c1bf.js";const w=l=>(R("data-v-084fee13"),l=l(),j(),l),E={class:"container-fluid p-0"},F=w(()=>e("h1",{class:"h3 mb-3"},"Plugins",-1)),L={class:"row"},M={class:"col-12"},T={class:"container"},U={class:"row"},$={class:"card"},z={class:"card-header"},G={class:"row"},H={class:"col"},J={class:"card-title"},K={class:"col-auto"},O={key:0,class:"form-check form-switch d-flex align-items-center"},Q=["checked","onClick"],W=w(()=>e("label",{style:{"margin-bottom":"-5px"},for:"flexSwitchCheckDefault"},"Active",-1)),X={class:"card-body"},Y={__name:"PluginsView",setup(l){const _=x(),d=y(),v=p(d,"records"),h=q(),u=p(h,"activePlugins"),D=s=>{const t=u.value.find(c=>c.plugin.ID==s);return t?t.is_active:!1},I=async s=>{const t=u.value.find(n=>n.plugin.ID==s);t&&(t.is_active=!t.is_active);const c={is_active:t?t.is_active:!1,avatar_id:_.avatar.ID};try{await d.toggleActivePlugin(s,c)}catch(n){console.log(n)}},f=s=>{const t=u.value.find(c=>c.plugin.ID===s);return t?t.ID:null};return C(async()=>{try{await d.getPlugins(),await h.getActivePlugins(_.avatar.ID)}catch(s){console.log(s)}feather.replace()}),(s,t)=>{const c=S("router-link");return o(),i("div",E,[F,e("div",L,[e("div",M,[e("div",T,[e("div",U,[(o(!0),i(g,null,m(v.value.filter((n,r)=>r%2===0),(n,r)=>(o(),i("div",{class:"row",key:"row"+r},[(o(!0),i(g,null,m(v.value.slice(r,r+2),a=>(o(),i("div",{class:"col-6",key:a.ID},[e("div",$,[e("div",z,[e("div",G,[e("div",H,[e("h5",J,k(a.name),1)]),e("div",K,[f(a.ID)?(o(),i("div",O,[e("input",{class:"form-check-input me-2",type:"checkbox",id:"flexSwitchCheckDefault",checked:D(a.ID),onClick:Z=>I(a.ID)},null,8,Q),W])):b("",!0)])])]),e("div",X,[e("p",null,k(a.description),1),e("div",null,[A(c,{to:{name:"plugin-config",params:{avatar_id:N(_).avatar.ID,plugin_id:a.ID,active_plugin_id:f(a.ID)}},class:"btn btn-primary"},{default:V(()=>[B(" Configure ")]),_:2},1032,["to"])])])])]))),128))]))),128))])])])])])}}},ae=P(Y,[["__scopeId","data-v-084fee13"]]);export{ae as default};
