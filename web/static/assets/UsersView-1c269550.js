import{_ as f,I as y,g as k,x as w,r as d,j as U,o as c,k as u,l as t,y as g,z as I,t as o,J as x,C as S,m as C,n as D,q as L,v as V}from"./index-fd9f4768.js";const l=r=>(L("data-v-9b7bdc35"),r=r(),V(),r),N={class:"container"},$={class:"modal-dialog"},A={class:"modal-content"},B={class:"modal-header"},M=l(()=>t("h5",{class:"modal-title"},"Invite New User",-1)),R={class:"modal-body container"},T={class:"row"},z={class:"col-12"},j={class:"form-floating mb-3"},q=l(()=>t("label",{for:"floatingInput"},"Username",-1)),E=l(()=>t("p",null,"Invite Link: ",-1)),F={class:"modal-footer"},J={class:"table-responsive"},G={class:"table table-striped"},H=l(()=>t("thead",null,[t("tr",null,[t("th",null,"Username"),t("th",null,"Avatar"),t("th",null,"Last Login"),t("th",null,"Invited on"),t("th",null,"Invite Link"),t("th",null,"Actions")])],-1)),K=l(()=>t("td",null,"Delete",-1)),O={__name:"UsersView",setup(r){const p=y(),v=k(),h=w(v,"records"),a=d(!1),i=d(""),_=d(""),b=n=>{if(n){const e=n.find(s=>s.role.permission==="owner");return e?e.avatar.name:""}return""},m=async()=>{try{const n=await p.inviteUser(i.value);n&&(_.value=n.invite_token)}catch(n){console.error(n)}};return U(async()=>{try{await v.getUsers()}catch(n){console.error(n)}feather.replace()}),(n,e)=>(c(),u("div",N,[t("div",{class:x(["modal",{"d-block":a.value,show:a.value}])},[t("div",$,[t("div",A,[t("div",B,[M,t("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=s=>a.value=!1)})]),t("div",R,[t("div",T,[t("div",z,[t("div",j,[g(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.value=s),type:"text",class:"form-control",id:"floatingInput",placeholder:"Username"},null,512),[[I,i.value]]),q]),E,t("p",null,[t("pre",null,"https://asai.astrosynapse.ai/register/token/"+o(_.value),1)])])])]),t("div",F,[t("button",{type:"button",class:"btn btn-secondary",onClick:e[2]||(e[2]=s=>a.value=!1)},"Close"),t("button",{type:"button",class:"btn btn-primary",onClick:e[3]||(e[3]=s=>m())},"Invite")])])])],2),t("h1",null,[S("Users "),t("button",{class:"btn btn-primary float-end",onClick:e[4]||(e[4]=s=>a.value=!0)},"Invite User")]),t("div",J,[t("table",G,[H,t("tbody",null,[(c(!0),u(C,null,D(h.value,s=>(c(),u("tr",{key:s.id},[t("td",null,o(s.username),1),t("td",null,o(b(s.roles)),1),t("td",null,o(new Date().toLocaleDateString()),1),t("td",null,o(new Date().toLocaleDateString()),1),t("td",null,[t("pre",null,"https://asai.astrosynapse.ai/register/token/"+o(s.invite_token),1)]),K]))),128))])])])]))}},Q=f(O,[["__scopeId","data-v-9b7bdc35"]]);export{Q as default};
