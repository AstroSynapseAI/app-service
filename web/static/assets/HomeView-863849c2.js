import{j as V,l as b,_ as g,k as m,m as B,r as w,n as N,o as u,a,p as _,q as v,b as e,s as z,g as n,f as S,i as Z,x as W,y as L,z as G,A as R,B as E,C as x,D as Y,E as Q,G as h,c as y,F as H,e as X,H as T,h as f}from"./index-0c807ac2.js";const F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAC7CAYAAACtg5alAAAAAXNSR0IArs4c6QAABB50RVh0bXhmaWxlACUzQ214ZmlsZSUyMGhvc3QlM0QlMjJFbGVjdHJvbiUyMiUyMG1vZGlmaWVkJTNEJTIyMjAyMy0wNS0xMFQyMSUzQTE0JTNBMzcuODM0WiUyMiUyMGFnZW50JTNEJTIyNS4wJTIwKE1hY2ludG9zaCUzQiUyMEludGVsJTIwTWFjJTIwT1MlMjBYJTIwMTBfMTVfNyklMjBBcHBsZVdlYktpdCUyRjUzNy4zNiUyMChLSFRNTCUyQyUyMGxpa2UlMjBHZWNrbyklMjBkcmF3LmlvJTJGMTYuMS4yJTIwQ2hyb21lJTJGOTYuMC40NjY0LjU1JTIwRWxlY3Ryb24lMkYxNi4wLjUlMjBTYWZhcmklMkY1MzcuMzYlMjIlMjB2ZXJzaW9uJTNEJTIyMTYuMS4yJTIyJTIwZXRhZyUzRCUyMnFoZnRLTWQ4NjZPUkhWOFUzMW45JTIyJTIwdHlwZSUzRCUyMmRldmljZSUyMiUzRSUzQ2RpYWdyYW0lMjBpZCUzRCUyMk82T0VqLXJwYmJSYnoycHQ5YXI1JTIyJTNFN1ZaTmI0TXdEUDAxM0lGQWFZOWIxMjZYU1pWNjJEa2lIbVFMR0lYUWolMkYzNmhTWjhwTjNVcmRwNktoZmlGJTJGdlpzUjhSSHBrWHUwZEpxJTJGd1pHUWd2OU5uT0l3OWVHQWFCUDlHdkZ0a2JaRFpMREpCSnpxelRBS3o1QjFqUXQyakRHZFNPbzBJVWlsY3VtR0paUXFvY2pFcUpXOWZ0RllXYnRhSVpuQURybElwVDlJVXpsUnQwR2lZRCUyRmdROHk3dk13V1JtZGdyYU9kdVQxRGxsdUIxQlpPR1J1VVJVWmxYczVpRGE1blY5TVhITGIzYjd3aVNVNmljQm9RbllVTkhZczltNjFMNDdMSlRzcnUyWnRrb3NOWGlmcTBKb0s5QkxpVTNKb0NYenRWVXJLcFVkMTBUYk9uUms2YzBNMUFva0wwQ0JYRmMwNVdYV2gwcDhoemtLbEllMFpIbDQlMkJwMnV6eTNSVzFOVWExdWdMY2xVRGV4a2JrTWpncjY5V3BlQXVnYTUxeTdiWVlDeEhVbyUyQm1sMkhTUkJVOFkxTFQ2Mk9zcDZ1ejdCQ3JoT0h2dFU4aVlrSnNZcWZFTiUyQmxxTEdSS2RpbzhjRE9FRVh4RVpIdDhqR1JYb3lPUFVBSFBYeXREWExUeHBXMEVibmE2TzZSMzJvalNzNFElMkZaMDJvcHMycnFLTktQbWplJTJCT1k2QiUyRnZqZmltamV2Y0cxUDNjNCUyQm44WVhhaU00UVhhd05iUTclMkZNc1o5JTJCQ01raTA4JTNEJTNDJTJGZGlhZ3JhbSUzRSUzQyUyRm14ZmlsZSUzRXo0Vd8AAASaSURBVHhe7ZxRUhxXEARnTmbdTNLN7JOtQwqwFwUiAwjUPUnyqdrhvapMluVH59HXp17g/NTtK38kwCeX4Lzdbt/uNrgdx/9SnOd5n33yqa5Zn/g+CvD1mXrfE+Ca0O9v/SDAb/kmwPUZv9ggAeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKneZQR4uOjtOI7zl1LP/dv9Syj/3Wsfn3vN87T3q/LzPL+96oE3vPhqAnx9Q8erPvI9Ae7QvWDqVQHTvRPgyXvz7fbj7bB3ANLmlXm/Al452B98ee8AvQP0IfA/Bx7eqv7gD+D8UX0InGegv8FlPgPoSQwVTICh4bccmwBbSAzdIwGGht9ybAJsITF0jwQYGn7LsQmwhcTQPRJgaPgtxybAFhJD90iAoeG3HJsAW0gM3SMBhobfcmwCbCExdI8EGBp+y7EJsIXE0D0SYGj4LccmwBYSQ/dIgKHhtxybAFtIDN0jAYaG33JsAmwhMXSPBBgafsuxCbCFxNA9EmBo+C3HJsAWEkP3SICh4bccmwBbSAzdIwGGht9ybAJsITF0jwQYGn7LsQmwhcTQPRJgaPgtxybAFhJD90iAoeG3HPseAf4+juOfLUW6x5sX+Os4ji/PPP3zfyk7XzDkzSf24CUWSIBLYPq4SybAx217ie+cAJfA9HGXTICP2/YS3/mJAPc3/vGp8fGrvwIuwfLFS97zfML1518B1+9Xg/cskADvWU/wbAIIIL6nwr+sixolUHBQyAAAAABJRU5ErkJggg==",P="/assets/user-icon-a729db5f.png",k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAArCAYAAAC91zLkAAAAAXNSR0IArs4c6QAABtF0RVh0bXhmaWxlACUzQ214ZmlsZSUyMGhvc3QlM0QlMjJFbGVjdHJvbiUyMiUyMG1vZGlmaWVkJTNEJTIyMjAyMy0xMS0wN1QxOCUzQTMzJTNBNTguNTI0WiUyMiUyMGFnZW50JTNEJTIyTW96aWxsYSUyRjUuMCUyMChNYWNpbnRvc2glM0IlMjBJbnRlbCUyME1hYyUyME9TJTIwWCUyMDEwXzE1XzcpJTIwQXBwbGVXZWJLaXQlMkY1MzcuMzYlMjAoS0hUTUwlMkMlMjBsaWtlJTIwR2Vja28pJTIwZHJhdy5pbyUyRjIyLjAuMyUyMENocm9tZSUyRjExNC4wLjU3MzUuMjg5JTIwRWxlY3Ryb24lMkYyNS44LjQlMjBTYWZhcmklMkY1MzcuMzYlMjIlMjB2ZXJzaW9uJTNEJTIyMjIuMC4zJTIyJTIwZXRhZyUzRCUyMkZVeGxIUDNDcnJoc2dFYWo0SVF1JTIyJTIwdHlwZSUzRCUyMmRldmljZSUyMiUzRSUwQSUyMCUyMCUzQ2RpYWdyYW0lMjBuYW1lJTNEJTIyUGFnZS0xJTIyJTIwaWQlM0QlMjI4ZF9taGozQVVEWXo5SkpuaGlCciUyMiUzRSUwQSUyMCUyMCUyMCUyMCUzQ214R3JhcGhNb2RlbCUyMGR4JTNEJTIyMTYzJTIyJTIwZHklM0QlMjIxNDYlMjIlMjBncmlkJTNEJTIyMSUyMiUyMGdyaWRTaXplJTNEJTIyMTAlMjIlMjBndWlkZXMlM0QlMjIxJTIyJTIwdG9vbHRpcHMlM0QlMjIxJTIyJTIwY29ubmVjdCUzRCUyMjElMjIlMjBhcnJvd3MlM0QlMjIxJTIyJTIwZm9sZCUzRCUyMjElMjIlMjBwYWdlJTNEJTIyMSUyMiUyMHBhZ2VTY2FsZSUzRCUyMjElMjIlMjBwYWdlV2lkdGglM0QlMjI4MjclMjIlMjBwYWdlSGVpZ2h0JTNEJTIyMTE2OSUyMiUyMG1hdGglM0QlMjIwJTIyJTIwc2hhZG93JTNEJTIyMCUyMiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUzQ3Jvb3QlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NteENlbGwlMjBpZCUzRCUyMjAlMjIlMjAlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NteENlbGwlMjBpZCUzRCUyMjElMjIlMjBwYXJlbnQlM0QlMjIwJTIyJTIwJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhDZWxsJTIwaWQlM0QlMjIyJTIyJTIwdmFsdWUlM0QlMjIlMjIlMjBzdHlsZSUzRCUyMmVuZEFycm93JTNEbm9uZSUzQmh0bWwlM0QxJTNCcm91bmRlZCUzRDAlM0JzdHJva2VDb2xvciUzRCUyM0ZGRkZGRiUzQnN0cm9rZVdpZHRoJTNEMiUzQiUyMiUyMGVkZ2UlM0QlMjIxJTIyJTIwcGFyZW50JTNEJTIyMSUyMiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214R2VvbWV0cnklMjB3aWR0aCUzRCUyMjUwJTIyJTIwaGVpZ2h0JTNEJTIyNTAlMjIlMjByZWxhdGl2ZSUzRCUyMjElMjIlMjBhcyUzRCUyMmdlb21ldHJ5JTIyJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhQb2ludCUyMHglM0QlMjI0MjAlMjIlMjB5JTNEJTIyNTIwJTIyJTIwYXMlM0QlMjJzb3VyY2VQb2ludCUyMiUyMCUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214UG9pbnQlMjB4JTNEJTIyNDIwJTIyJTIweSUzRCUyMjQ4MCUyMiUyMGFzJTNEJTIydGFyZ2V0UG9pbnQlMjIlMjAlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZteEdlb21ldHJ5JTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDJTJGbXhDZWxsJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTNDJTJGcm9vdCUzRSUwQSUyMCUyMCUyMCUyMCUzQyUyRm14R3JhcGhNb2RlbCUzRSUwQSUyMCUyMCUzQyUyRmRpYWdyYW0lM0UlMEElM0MlMkZteGZpbGUlM0UlMEE+N4yMAAAAK0lEQVQoU2NkQAKM////d2BgYADhAyBOAwMDQz0DA0PjKGekhQEiHSCnEABi/7exJRbwWgAAAABJRU5ErkJggg==";var D=b;const q=V(D);const K=A=>(R("data-v-57918cce"),A=A(),E(),A),O=["disabled","onClick"],$=K(()=>e("i",{class:"align-middle","data-feather":"send"},null,-1)),ll=[$],el={__name:"PromptInput",setup(A){const r=m(),U=B(),M=w("");N();function i(l){l.target.style.height="auto";const o=parseInt(window.getComputedStyle(l.target).getPropertyValue("line-height"));let s=Math.floor(l.target.scrollHeight/o);const t=10;s=s>t?t:s,l.target.style.height=`${s*o}px`}function c(l){l.preventDefault();let o=l.target.selectionStart,s=M.value.substring(0,o),t=M.value.substring(o);M.value=s+`
`+t,G(()=>{i(l)})}function J(l,o){if(l.preventDefault(),M.value.trim()!==""){const s={session_id:r.session_id,avatar_id:r.avatar.ID,msg:M.value};console.log("Prompt:",s),U.sendPrompt(s),l.target.style.height="auto",o()}}function C(l,o){!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?l.shiftKey&&l.key=="Enter"?c(l):l.key=="Enter"&&J(l,o):l.key=="Enter"&&c(l)}return u(()=>{feather.replace()}),(l,o)=>(a(),_(n(L),null,{default:v(({resetForm:s})=>[e("div",{class:z([{"textarea-container":!0,loading:n(U).isLoading,"form-control":!0},"form-control"])},[S(n(Z),{onInput:i,onKeydown:W(t=>C(t,s),["enter"]),name:"prompt",modelValue:M.value,"onUpdate:modelValue":o[0]||(o[0]=t=>M.value=t),type:"text",as:"textarea",class:"",rows:"2",placeholder:"Send a message...",disabled:n(U).isLoading},null,8,["onKeydown","modelValue","disabled"]),e("button",{class:"send-button btn btn-light",disabled:n(U).isLoading,onClick:t=>J(t,s)},ll,8,O)],2)]),_:1}))}},tl=g(el,[["__scopeId","data-v-57918cce"]]);const d=A=>(R("data-v-20b2f73d"),A=A(),E(),A),sl={class:"container-fluid"},Ml=d(()=>e("h1",{class:"h3 mb-3"},"Avatar",-1)),ol={class:"row"},al={class:"col-12"},yl={class:"card"},nl={class:"card-body"},Al={class:"container d-flex flex-column"},Ul={class:"col-1"},cl={key:0,src:F,class:"logo",alt:"Avatar Icon",width:"35"},Il={key:1,src:P,class:"logo",alt:"User Icon",width:"35",height:"50"},il={class:"col-10"},Tl={key:0},Jl=d(()=>e("span",{class:"me-3"},"I'm thinking... ",-1)),rl={class:"spinner mb-2 me-2"},dl={key:0,src:k,alt:""},Cl={key:0},wl={class:"me-3 fst-italic"},jl=d(()=>e("span",{class:"spinner mb-2 me-2"},[e("img",{src:k,alt:""})],-1)),pl=["innerHTML"],Ql={key:0,class:"separator opacity-100"},hl=d(()=>e("hr",{class:"border border-3 opacity-100"},null,-1)),gl={__name:"HomeView",setup(A){const r=x(),U=B(),{messages:M}=Y(U),i=m(),c=w(null),J=w(null),C=new q({breaks:!0}),l=Q(()=>M.value.length-1),o=Q(()=>{var t;return((t=M.value[l.value])==null?void 0:t.content)||""});async function s(){requestAnimationFrame(()=>{if(c.value){var t=J.value.offsetHeight+30,j=c.value.scrollHeight+t;c.value.scrollTop=j}})}return h(M,()=>{s()}),h(o,()=>{s()}),u(async()=>{try{i.session_id?await U.getPrivateSession(r.params.avatar_id,i.session_id):await i.getSessionToken()}catch(t){console.log(t)}s(),feather.replace(),U.connectWebSocket()}),(t,j)=>(a(),y("div",sl,[Ml,e("div",ol,[e("div",al,[e("div",yl,[e("div",nl,[e("div",Al,[e("div",{ref_key:"conversationContainer",ref:c,class:"conversation-container flex-grow-1 overflow-auto"},[n(M).length>0?(a(!0),y(H,{key:0},X(n(M),(I,p)=>(a(),y("div",{class:"conversation-item row",key:p},[e("div",Ul,[I.type==="ai"?(a(),y("img",cl)):T("",!0),I.type==="human"?(a(),y("img",Il)):T("",!0)]),e("div",il,[I.isLoading?(a(),y("div",Tl,[e("p",null,[Jl,e("span",rl,[I.isAgentRunnig?T("",!0):(a(),y("img",dl))])]),I.isAgentRunnig?(a(),y("p",Cl,[e("span",wl,"Activating agent: "+f(I.agentName)+"... ",1),jl])):T("",!0)])):(a(),y("div",{key:1,class:"message-content pe-3",innerHTML:n(C).render(I.content.trim())},null,8,pl))]),n(M).length>1&&p!==n(M).length-1?(a(),y("hr",Ql)):T("",!0)]))),128)):T("",!0)],512),e("div",{ref_key:"promptContainer",ref:J,class:"prompt-container"},[hl,S(tl)],512)])])])])])]))}},Bl=g(gl,[["__scopeId","data-v-20b2f73d"]]);export{Bl as default};
