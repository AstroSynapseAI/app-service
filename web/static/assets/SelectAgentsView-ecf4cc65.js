import{_ as O,D as J,r as i,u as R,I as x,o as E,x as k,f as e,M as r,N as n,T as P,L as p,A as G,h as B,e as q,R as g,O as z,K as Y,c as A,q as $,s as K}from"./index-510910de.js";import{u as j}from"./llm.store-e461a386.js";import{u as F}from"./agent.store-3dac9ca8.js";import{u as H}from"./avatar.store-696f12a6.js";const l=m=>($("data-v-1478d6f5"),m=m(),K(),m),Q={class:"container"},W=g('<div class="row" data-v-1478d6f5><div class="col-4 d-flex flex-column align-items-center text-center" data-v-1478d6f5><div class="circle mb-5" data-v-1478d6f5><h2 class="circle-text" data-v-1478d6f5><i data-feather="check" style="width:36px;height:36px;" data-v-1478d6f5></i></h2></div><h3 class="mb-3" data-v-1478d6f5>Create Avatar</h3><p class="lead mb-5" data-v-1478d6f5>Give your AI avatar a name and describe how it should behave.</p></div><div class="col-4 d-flex flex-column align-items-center text-center" data-v-1478d6f5><div class="circle mb-5" data-v-1478d6f5><h2 class="circle-text" data-v-1478d6f5><i data-feather="check" style="width:36px;height:36px;" data-v-1478d6f5></i></h2></div><h3 class="mb-3" data-v-1478d6f5>Choose models</h3><p class="lead mb-5" data-v-1478d6f5>Select one or more LLM models yor avatar will be using.</p></div><div class="col-4 text-center d-flex flex-column align-items-center" data-v-1478d6f5><div class="circle current mb-5" data-v-1478d6f5><h2 class="circle-text" data-v-1478d6f5>3</h2></div><h3 class="mb-3" data-v-1478d6f5>Select Agents</h3><p class="lead mb-5" data-v-1478d6f5>Your AI Avatar can browse the internet, answer emails, post on social media nad more!</p></div></div>',1),X={class:"row"},Z={class:"col-4 d-flex"},ee={class:"card h-100"},te={class:"card-body"},ae=l(()=>e("h5",{class:"card-title"},[p("Search Agent "),e("i",{"data-feather":"info",class:"float-end"})],-1)),se=l(()=>e("p",{class:"card-text"},"Utilizes search engines such as Google, DuckDuckGo, and Metaphor for automated web searches.",-1)),oe={class:"card-action mt-4"},le={class:"form-check form-switch"},ce=["checked"],de={class:"col-4 d-flex"},re={class:"card h-100"},ie={class:"card-body"},ne=l(()=>e("h5",{class:"card-title"},[p("Email Agent "),e("i",{"data-feather":"info",class:"float-end"})],-1)),ve=l(()=>e("p",{class:"card-text"},"Email agent connects to your email server, and then comopses and sends email for you.",-1)),pe={class:"card-action mt-4"},me={class:"form-check form-switch"},_e=["checked"],ue=l(()=>e("div",{class:"col-4 d-flex"},[e("div",{class:"card h-100"},[e("div",{class:"card-body"},[e("h5",{class:"card-title"},[p("Library Agent "),e("i",{"data-feather":"info",class:"float-end"})]),e("p",{class:"card-text"},"Utilizes search engines such as Google, DuckDuckGo, and Metaphor for automated web searches."),e("div",{class:"card-action mt-4"},[e("div",{class:"form-check form-switch"},[e("input",{class:"form-check-input float-end",type:"checkbox",role:"switch",id:"search-agent"})])]),e("div",{class:"card-overlay position-absolute"})])])],-1)),fe={key:0,class:"row mt-3"},he={class:"col-8 offset-2"},ge={class:"card"},be={class:"card-body"},ye=g('<div class="row" data-v-1478d6f5><div class="col-1" data-v-1478d6f5><i class="fas fa-gear fa-2x float-end" data-v-1478d6f5></i></div><div class="col-10" data-v-1478d6f5><h2 data-v-1478d6f5>Email agent setup.</h2><p class="lead" data-v-1478d6f5>In order to dispatch emails yor email agent needs access to your preferd SMTP server.</p></div></div>',1),Se={class:"row"},we={class:"col-6"},xe={class:"form-floating mb-3"},ke=l(()=>e("label",{for:"smtp-server"},"SMTP Server",-1)),Ae={class:"col-4"},Ie={class:"form-floating mb-3"},Le=g('<option value="" disabled selected data-v-1478d6f5>Select Encryption Type</option><option value="ssl" data-v-1478d6f5>SSL</option><option value="tls" data-v-1478d6f5>TLS</option><option value="starttls" data-v-1478d6f5>STARTTLS</option><option value="ssltls" data-v-1478d6f5>SSL/TLS</option><option value="none" data-v-1478d6f5>None</option>',6),Me=[Le],Ne=l(()=>e("label",{for:"smtp-encryption"},"Encryption",-1)),Te={class:"col-2"},Ve={class:"form-floating mb-3"},De=l(()=>e("label",{for:"smtp-port"},"Port",-1)),Ue={class:"row"},Ce={class:"col-6"},Oe={class:"form-floating mb-3"},Je=l(()=>e("label",{for:"smtp-username"},"Username",-1)),Re={class:"col-6"},Ee={class:"form-floating mb-3"},Pe=l(()=>e("label",{for:"smtp-password"},"Password",-1)),Ge={class:"row"},Be={class:"col-6"},qe={class:"form-floating mb-3"},ze=l(()=>e("label",{for:"sender"},"Sender",-1)),Ye={class:"col-6"},$e={class:"form-floating mb-3"},Ke=l(()=>e("label",{for:"reply-to"},"Reply To",-1)),je={class:"row",style:{"margin-top":"80px"}},Fe={class:"col-4 offset-2 text-center d-grid"},He={__name:"SelectAgentsView",setup(m){const I=z(),L=J(),d=i([]),_=i(!1),v=i(!1),o=i({imap_server:"",smtp_server:"",imap_port:"",smtp_port:"",username:"",password:"",encryption:"",sender:"",reply_to:""}),M=R(),b=j(),N=x(b,"records"),u=F(),T=x(u,"records"),y=H(),f=i(""),h=i(""),V=async()=>{let t=JSON.parse(localStorage.getItem("onboarding_data"));if(t)try{await b.getLLMs(),t.avatar_llm=="gpt"?f.value=N.value.find(c=>c.slug==="gpt-4"):console.log("missing LLM");const a={user_id:M.current.ID,name:t.avatar_name,primer:t.avatar_primer,llm:f.value.ID};await y.saveAvatar(a),await u.getAgents();for(let c=0;c<t.avatar_agents.length;c++){h.value=T.value.find(C=>C.slug===t.avatar_agents[c]);let s={is_active:!0,is_public:!1,primer:h.value.primer,llm_id:f.value.ID,avatar_id:y.userAvatar.ID,agent_id:h.value.ID};await u.saveActiveAgent(s)}localStorage.removeItem("onboarding_data")}catch(a){console.error(a),L.error("Something went worng, we couldn't create your avatar")}},S=t=>{let a=JSON.parse(localStorage.getItem("onboarding_data"));d.value.includes(t)?(t==="email-agent"&&(v.value=!1),d.value=d.value.filter(c=>c!==t)):(t==="email-agent"&&(v.value=!0),d.value.push(t)),a.avatar_agents=d.value,localStorage.setItem("onboarding_data",JSON.stringify(a))},w=t=>d.value.includes(t),D=()=>{const t=JSON.parse(localStorage.getItem("onboarding_data"));v.value=!1,_.value=!0,t.skip_smtp=_.value,localStorage.setItem("onboarding_data",JSON.stringify(t))},U=async()=>{const t=JSON.parse(localStorage.getItem("onboarding_data"));t.email_config=o.value;try{await V(),localStorage.setItem("onboarding_data",JSON.stringify(t)),I.push({name:"avatar-created"})}catch(a){console.error(a)}};return E(()=>{const t=JSON.parse(localStorage.getItem("onboarding_data"));d.value=(t==null?void 0:t.avatar_agents)||[],_.value=(t==null?void 0:t.skip_smtp)||!1,o.value=(t==null?void 0:t.email_config)||{},_.value||d.value.includes("email-agent")&&(v.value=!0),feather.replace()}),(t,a)=>{const c=Y("router-link");return A(),k("div",Q,[W,e("div",X,[e("div",Z,[e("div",ee,[e("div",te,[ae,se,e("div",oe,[e("div",le,[e("input",{class:"form-check-input float-end",type:"checkbox",role:"switch",id:"search-agent",onClick:a[0]||(a[0]=s=>S("search-agent")),checked:w("search-agent")},null,8,ce)])])])])]),e("div",de,[e("div",re,[e("div",ie,[ne,ve,e("div",pe,[e("div",me,[e("input",{class:"form-check-input float-end",type:"checkbox",role:"switch",id:"search-agent ",onClick:a[1]||(a[1]=s=>S("email-agent")),checked:w("email-agent")},null,8,_e)])])])])]),ue]),v.value?(A(),k("div",fe,[e("div",he,[e("div",ge,[e("div",be,[ye,e("div",Se,[e("div",we,[e("div",xe,[r(e("input",{type:"text",class:"form-control",id:"smtp-server",placeholder:"mail.example.com","onUpdate:modelValue":a[2]||(a[2]=s=>o.value.smtp_server=s)},null,512),[[n,o.value.smtp_server]]),ke])]),e("div",Ae,[e("div",Ie,[r(e("select",{"onUpdate:modelValue":a[3]||(a[3]=s=>o.value.encryption=s),class:"form-select model-select","aria-label":"Select Model"},Me,512),[[P,o.value.encryption]]),Ne])]),e("div",Te,[e("div",Ve,[r(e("input",{type:"text",class:"form-control",id:"smtp-port",placeholder:"587","onUpdate:modelValue":a[4]||(a[4]=s=>o.value.smtp_port=s)},null,512),[[n,o.value.smtp_port]]),De])])]),e("div",Ue,[e("div",Ce,[e("div",Oe,[r(e("input",{type:"text",class:"form-control",id:"smtp-username",placeholder:"username","onUpdate:modelValue":a[5]||(a[5]=s=>o.value.username=s)},null,512),[[n,o.value.username]]),Je])]),e("div",Re,[e("div",Ee,[r(e("input",{type:"password",class:"form-control",id:"smtp-password",placeholder:"password","onUpdate:modelValue":a[6]||(a[6]=s=>o.value.password=s)},null,512),[[n,o.value.password]]),Pe])])]),e("div",Ge,[e("div",Be,[e("div",qe,[r(e("input",{type:"text",class:"form-control",id:"sender",placeholder:"sender","onUpdate:modelValue":a[7]||(a[7]=s=>o.value.sender=s)},null,512),[[n,o.value.sender]]),ze])]),e("div",Ye,[e("div",$e,[r(e("input",{type:"text",class:"form-control",id:"reply-to",placeholder:"reply-to","onUpdate:modelValue":a[8]||(a[8]=s=>o.value.reply_to=s)},null,512),[[n,o.value.reply_to]]),Ke])])]),e("div",{class:"row mt-1"},[e("div",{class:"col-10 offset-1"},[e("p",{class:"text-info fs-4"},[p("You can setup your email agent later. "),e("a",{href:"#",onClick:D},"Skip for now")])])])])])])])):G("",!0),e("div",je,[e("div",Fe,[B(c,{to:{name:"choose-model"},class:"btn btn-primary btn-lg btn-back"},{default:q(()=>[p("Back")]),_:1})]),e("div",{class:"col-4 text-center d-grid"},[e("button",{class:"btn btn-primary btn-lg",onClick:U},"Next")])])])}}},et=O(He,[["__scopeId","data-v-1478d6f5"]]);export{et as default};
