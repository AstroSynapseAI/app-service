import{q as k,s as _,_ as u,v as B,x as R,y as z,b as w,o as V,i as s,z as Z,w as W,e as l,A as G,g as t,f as b,F as L,B as Y,C as x,D as H,m as X,p as v,n as E,G as F,H as m,I as h,d as o,j as f,k as P,J as i,K as D,l as q}from"./index-7a4cb04d.js";const g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAC7CAYAAACtg5alAAAAAXNSR0IArs4c6QAABB50RVh0bXhmaWxlACUzQ214ZmlsZSUyMGhvc3QlM0QlMjJFbGVjdHJvbiUyMiUyMG1vZGlmaWVkJTNEJTIyMjAyMy0wNS0xMFQyMSUzQTE0JTNBMzcuODM0WiUyMiUyMGFnZW50JTNEJTIyNS4wJTIwKE1hY2ludG9zaCUzQiUyMEludGVsJTIwTWFjJTIwT1MlMjBYJTIwMTBfMTVfNyklMjBBcHBsZVdlYktpdCUyRjUzNy4zNiUyMChLSFRNTCUyQyUyMGxpa2UlMjBHZWNrbyklMjBkcmF3LmlvJTJGMTYuMS4yJTIwQ2hyb21lJTJGOTYuMC40NjY0LjU1JTIwRWxlY3Ryb24lMkYxNi4wLjUlMjBTYWZhcmklMkY1MzcuMzYlMjIlMjB2ZXJzaW9uJTNEJTIyMTYuMS4yJTIyJTIwZXRhZyUzRCUyMnFoZnRLTWQ4NjZPUkhWOFUzMW45JTIyJTIwdHlwZSUzRCUyMmRldmljZSUyMiUzRSUzQ2RpYWdyYW0lMjBpZCUzRCUyMk82T0VqLXJwYmJSYnoycHQ5YXI1JTIyJTNFN1ZaTmI0TXdEUDAxM0lGQWFZOWIxMjZYU1pWNjJEa2lIbVFMR0lYUWolMkYzNmhTWjhwTjNVcmRwNktoZmlGJTJGdlpzUjhSSHBrWHUwZEpxJTJGd1pHUWd2OU5uT0l3OWVHQWFCUDlHdkZ0a2JaRFpMREpCSnpxelRBS3o1QjFqUXQyakRHZFNPbzBJVWlsY3VtR0paUXFvY2pFcUpXOWZ0RllXYnRhSVpuQURybElwVDlJVXpsUnQwR2lZRCUyRmdROHk3dk13V1JtZGdyYU9kdVQxRGxsdUIxQlpPR1J1VVJVWmxYczVpRGE1blY5TVhITGIzYjd3aVNVNmljQm9RbllVTkhZczltNjFMNDdMSlRzcnUyWnRrb3NOWGlmcTBKb0s5QkxpVTNKb0NYenRWVXJLcFVkMTBUYk9uUms2YzBNMUFva0wwQ0JYRmMwNVdYV2gwcDhoemtLbEllMFpIbDQlMkJwMnV6eTNSVzFOVWExdWdMY2xVRGV4a2JrTWpncjY5V3BlQXVnYTUxeTdiWVlDeEhVbyUyQm1sMkhTUkJVOFkxTFQ2Mk9zcDZ1ejdCQ3JoT0h2dFU4aVlrSnNZcWZFTiUyQmxxTEdSS2RpbzhjRE9FRVh4RVpIdDhqR1JYb3lPUFVBSFBYeXREWExUeHBXMEVibmE2TzZSMzJvalNzNFElMkZaMDJvcHMycnFLTktQbWplJTJCT1k2QiUyRnZqZmltamV2Y0cxUDNjNCUyQm44WVhhaU00UVhhd05iUTclMkZNc1o5JTJCQ01raTA4JTNEJTNDJTJGZGlhZ3JhbSUzRSUzQyUyRm14ZmlsZSUzRXo0Vd8AAASaSURBVHhe7ZxRUhxXEARnTmbdTNLN7JOtQwqwFwUiAwjUPUnyqdrhvapMluVH59HXp17g/NTtK38kwCeX4Lzdbt/uNrgdx/9SnOd5n33yqa5Zn/g+CvD1mXrfE+Ca0O9v/SDAb/kmwPUZv9ggAeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKleAtBC8jwB5ICpXgLQQvI8AeSAqV4C0ELyPAHkgKneZQR4uOjtOI7zl1LP/dv9Syj/3Wsfn3vN87T3q/LzPL+96oE3vPhqAnx9Q8erPvI9Ae7QvWDqVQHTvRPgyXvz7fbj7bB3ANLmlXm/Al452B98ee8AvQP0IfA/Bx7eqv7gD+D8UX0InGegv8FlPgPoSQwVTICh4bccmwBbSAzdIwGGht9ybAJsITF0jwQYGn7LsQmwhcTQPRJgaPgtxybAFhJD90iAoeG3HJsAW0gM3SMBhobfcmwCbCExdI8EGBp+y7EJsIXE0D0SYGj4LccmwBYSQ/dIgKHhtxybAFtIDN0jAYaG33JsAmwhMXSPBBgafsuxCbCFxNA9EmBo+C3HJsAWEkP3SICh4bccmwBbSAzdIwGGht9ybAJsITF0jwQYGn7LsQmwhcTQPRJgaPgtxybAFhJD90iAoeG3HPseAf4+juOfLUW6x5sX+Os4ji/PPP3zfyk7XzDkzSf24CUWSIBLYPq4SybAx217ie+cAJfA9HGXTICP2/YS3/mJAPc3/vGp8fGrvwIuwfLFS97zfML1518B1+9Xg/cskADvWU/wbAIIIL6nwr+sixolUHBQyAAAAABJRU5ErkJggg==",K="/assets/user-icon-a729db5f.png",N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAArCAYAAAC91zLkAAAAAXNSR0IArs4c6QAABtF0RVh0bXhmaWxlACUzQ214ZmlsZSUyMGhvc3QlM0QlMjJFbGVjdHJvbiUyMiUyMG1vZGlmaWVkJTNEJTIyMjAyMy0xMS0wN1QxOCUzQTMzJTNBNTguNTI0WiUyMiUyMGFnZW50JTNEJTIyTW96aWxsYSUyRjUuMCUyMChNYWNpbnRvc2glM0IlMjBJbnRlbCUyME1hYyUyME9TJTIwWCUyMDEwXzE1XzcpJTIwQXBwbGVXZWJLaXQlMkY1MzcuMzYlMjAoS0hUTUwlMkMlMjBsaWtlJTIwR2Vja28pJTIwZHJhdy5pbyUyRjIyLjAuMyUyMENocm9tZSUyRjExNC4wLjU3MzUuMjg5JTIwRWxlY3Ryb24lMkYyNS44LjQlMjBTYWZhcmklMkY1MzcuMzYlMjIlMjB2ZXJzaW9uJTNEJTIyMjIuMC4zJTIyJTIwZXRhZyUzRCUyMkZVeGxIUDNDcnJoc2dFYWo0SVF1JTIyJTIwdHlwZSUzRCUyMmRldmljZSUyMiUzRSUwQSUyMCUyMCUzQ2RpYWdyYW0lMjBuYW1lJTNEJTIyUGFnZS0xJTIyJTIwaWQlM0QlMjI4ZF9taGozQVVEWXo5SkpuaGlCciUyMiUzRSUwQSUyMCUyMCUyMCUyMCUzQ214R3JhcGhNb2RlbCUyMGR4JTNEJTIyMTYzJTIyJTIwZHklM0QlMjIxNDYlMjIlMjBncmlkJTNEJTIyMSUyMiUyMGdyaWRTaXplJTNEJTIyMTAlMjIlMjBndWlkZXMlM0QlMjIxJTIyJTIwdG9vbHRpcHMlM0QlMjIxJTIyJTIwY29ubmVjdCUzRCUyMjElMjIlMjBhcnJvd3MlM0QlMjIxJTIyJTIwZm9sZCUzRCUyMjElMjIlMjBwYWdlJTNEJTIyMSUyMiUyMHBhZ2VTY2FsZSUzRCUyMjElMjIlMjBwYWdlV2lkdGglM0QlMjI4MjclMjIlMjBwYWdlSGVpZ2h0JTNEJTIyMTE2OSUyMiUyMG1hdGglM0QlMjIwJTIyJTIwc2hhZG93JTNEJTIyMCUyMiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUzQ3Jvb3QlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NteENlbGwlMjBpZCUzRCUyMjAlMjIlMjAlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NteENlbGwlMjBpZCUzRCUyMjElMjIlMjBwYXJlbnQlM0QlMjIwJTIyJTIwJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhDZWxsJTIwaWQlM0QlMjIyJTIyJTIwdmFsdWUlM0QlMjIlMjIlMjBzdHlsZSUzRCUyMmVuZEFycm93JTNEbm9uZSUzQmh0bWwlM0QxJTNCcm91bmRlZCUzRDAlM0JzdHJva2VDb2xvciUzRCUyM0ZGRkZGRiUzQnN0cm9rZVdpZHRoJTNEMiUzQiUyMiUyMGVkZ2UlM0QlMjIxJTIyJTIwcGFyZW50JTNEJTIyMSUyMiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214R2VvbWV0cnklMjB3aWR0aCUzRCUyMjUwJTIyJTIwaGVpZ2h0JTNEJTIyNTAlMjIlMjByZWxhdGl2ZSUzRCUyMjElMjIlMjBhcyUzRCUyMmdlb21ldHJ5JTIyJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhQb2ludCUyMHglM0QlMjI0MjAlMjIlMjB5JTNEJTIyNTIwJTIyJTIwYXMlM0QlMjJzb3VyY2VQb2ludCUyMiUyMCUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214UG9pbnQlMjB4JTNEJTIyNDIwJTIyJTIweSUzRCUyMjQ4MCUyMiUyMGFzJTNEJTIydGFyZ2V0UG9pbnQlMjIlMjAlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZteEdlb21ldHJ5JTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDJTJGbXhDZWxsJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTNDJTJGcm9vdCUzRSUwQSUyMCUyMCUyMCUyMCUzQyUyRm14R3JhcGhNb2RlbCUzRSUwQSUyMCUyMCUzQyUyRmRpYWdyYW0lM0UlMEElM0MlMkZteGZpbGUlM0UlMEE+N4yMAAAAK0lEQVQoU2NkQAKM////d2BgYADhAyBOAwMDQz0DA0PjKGekhQEiHSCnEABi/7exJRbwWgAAAABJRU5ErkJggg==";var O=_;const $=k(O);const ee=n=>(v("data-v-737b851b"),n=n(),E(),n),le=["disabled"],te=ee(()=>l("i",{class:"align-middle","data-feather":"send"},null,-1)),se=[te],S=10,Me={__name:"PromptInput",setup(n){const C=B(),y=R();let{resetForm:a,handleSubmit:J,defineField:U}=z({initialValues:{prompt:""}});const[I,Q]=U("prompt"),c=w(null);let d=w(0);function T(){const e=parseInt(window.getComputedStyle(c.value.$el).getPropertyValue("line-height"));return[Math.floor(c.value.$el.scrollHeight/e),e]}function M(){let[e,A]=T();e=e>S?S:e,e!=d.value&&(d.value=e,c.value.$el.style.height=`${e*A}px`)}const r=J((e,A)=>{if(e.prompt.trim()!==""){const p={session_id:C.session_id,avatar_id:C.avatar.ID,msg:e.prompt};a(),setTimeout(()=>{M(),y.sendPrompt(p)},0)}});return V(()=>{feather.replace(),d.value=T()}),(e,A)=>(s(),Z(t(X),{onSubmit:t(r)},{default:W(()=>[l("div",{class:G([{"textarea-container":!0,loading:t(y).isLoading,"form-control":!0},"form-control"])},[b(t(L),{onInput:M,onKeydown:Y(x(t(r),["exact","prevent"]),["enter"]),name:"prompt",modelValue:t(I),"onUpdate:modelValue":A[0]||(A[0]=p=>H(I)?I.value=p:null),type:"text",as:"textarea",class:"",rows:"2",placeholder:"Send a message...",disabled:t(y).isLoading,ref_key:"promptElement",ref:c},null,8,["onKeydown","modelValue","disabled"]),l("button",{class:"send-button btn btn-light",disabled:t(y).isLoading},se,8,le)],2)]),_:1},8,["onSubmit"]))}},oe=u(Me,[["__scopeId","data-v-737b851b"]]);const j=n=>(v("data-v-fda78400"),n=n(),E(),n),ne={class:"container-fluid"},ae=j(()=>l("h1",{class:"h3 mb-3"},"Avatar",-1)),ye={class:"row"},Ae={class:"col-12"},Ue={class:"card"},Ie={class:"card-body"},ce={class:"container d-flex flex-column"},Te={class:"col-1"},ie=["src"],Je=["src"],de={class:"col-10"},re={key:0},Ce=j(()=>l("span",{class:"me-3"},"I'm thinking... ",-1)),we={class:"spinner mb-2 me-2"},je={key:0,src:N,alt:""},pe={key:0},Qe={class:"me-3 fst-italic"},me=j(()=>l("span",{class:"spinner mb-2 me-2"},[l("img",{src:N,alt:""})],-1)),he=["innerHTML"],ge={key:0,class:"separator opacity-100"},Se=j(()=>l("hr",{class:"border border-3 opacity-100"},null,-1)),ue={__name:"HomeView",setup(n){const C=D(),y=R(),{messages:a}=F(y),J=B(),U=w(null),I=w(null),Q=new $({breaks:!0}),c=m(()=>a.value.length-1),d=m(()=>{var M;return((M=a.value[c.value])==null?void 0:M.content)||""});async function T(){requestAnimationFrame(()=>{if(U.value){var M=I.value.offsetHeight+30,r=U.value.scrollHeight+M;U.value.scrollTop=r}})}return h(a,()=>{T()}),h(d,()=>{T()}),V(async()=>{try{J.session_id?await y.getPrivateSession(C.params.avatar_id,J.session_id):await J.getSessionToken()}catch(M){console.log(M)}T(),feather.replace(),y.connectWebSocket(),console.info("ICONS"),console.log(g)}),(M,r)=>(s(),o("div",ne,[ae,l("div",ye,[l("div",Ae,[l("div",Ue,[l("div",Ie,[l("div",ce,[l("div",{ref_key:"conversationContainer",ref:U,class:"conversation-container flex-grow-1 overflow-auto"},[t(a).length>0?(s(!0),o(f,{key:0},P(t(a),(e,A)=>(s(),o("div",{class:"conversation-item row",key:A},[l("div",Te,[e.sender==="ai"?(s(),o("img",{key:0,src:t(g),class:"logo",alt:"Avatar Icon",width:"35"},null,8,ie)):i("",!0),e.sender==="human"?(s(),o("img",{key:1,src:t(K),class:"logo",alt:"User Icon",width:"35",height:"50"},null,8,Je)):i("",!0)]),l("div",de,[e.isLoading?(s(),o("div",re,[l("p",null,[Ce,l("span",we,[e.isAgentRunnig?i("",!0):(s(),o("img",je))])]),e.isAgentRunnig?(s(),o("p",pe,[l("span",Qe,"Activating agent: "+q(e.agentName)+"... ",1),me])):i("",!0)])):(s(),o("div",{key:1,class:"message-content pe-3",innerHTML:t(Q).render(e.content.trim())},null,8,he))]),t(a).length>1&&A!==t(a).length-1?(s(),o("hr",ge)):i("",!0)]))),128)):i("",!0)],512),l("div",{ref_key:"promptContainer",ref:I,class:"prompt-container"},[Se,b(oe)],512)])])])])])]))}},Re=u(ue,[["__scopeId","data-v-fda78400"]]);export{Re as default};
