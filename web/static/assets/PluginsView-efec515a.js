import{u as y}from"./plugin.store-3666f1c2.js";import{_ as P,u as b,I as p,o as x,x as o,f as e,y as g,z as m,K as C,c as i,C as I,A as S,h as A,e as V,L as N,k as B,q as L,s as R}from"./index-a4c4dc87.js";import{u as q}from"./avatar.store-df433578.js";const k=l=>(L("data-v-b7c2f687"),l=l(),R(),l),z={class:"container-fluid p-0"},E=k(()=>e("h1",{class:"h3 mb-3"},"Plugins",-1)),F={class:"row"},K={class:"col-12"},M={class:"container"},T={class:"row"},U={class:"card"},$={class:"card-header"},j={class:"row"},G={class:"col"},H={class:"card-title"},J={class:"col-auto"},O={key:0,class:"form-check form-switch d-flex align-items-center"},Q=["checked","onClick"],W=k(()=>e("label",{style:{"margin-bottom":"-5px"},for:"flexSwitchCheckDefault"},"Active",-1)),X={class:"card-body"},Y={__name:"PluginsView",setup(l){const _=b(),d=y(),v=p(d,"records"),h=q(),u=p(h,"activePlugins"),D=s=>{const t=u.value.find(a=>a.plugin.ID==s);return t?t.is_active:!1},w=async s=>{const t=u.value.find(n=>n.plugin.ID==s);t&&(t.is_active=!t.is_active);const a={is_active:t?t.is_active:!1,avatar_id:_.avatar.ID};try{await d.toggleActivePlugin(s,a)}catch(n){console.log(n)}},f=s=>{const t=u.value.find(a=>a.plugin.ID===s);return t?t.ID:null};return x(async()=>{try{await d.getPlugins(),await h.getActivePlugins(_.avatar.ID)}catch(s){console.log(s)}feather.replace()}),(s,t)=>{const a=C("router-link");return i(),o("div",z,[E,e("div",F,[e("div",K,[e("div",M,[e("div",T,[(i(!0),o(g,null,m(v.value.filter((n,r)=>r%2===0),(n,r)=>(i(),o("div",{class:"row",key:"row"+r},[(i(!0),o(g,null,m(v.value.slice(r,r+2),c=>(i(),o("div",{class:"col-6",key:c.ID},[e("div",U,[e("div",$,[e("div",j,[e("div",G,[e("h5",H,I(c.name),1)]),e("div",J,[f(c.ID)?(i(),o("div",O,[e("input",{class:"form-check-input me-2",type:"checkbox",id:"flexSwitchCheckDefault",checked:D(c.ID),onClick:Z=>w(c.ID)},null,8,Q),W])):S("",!0)])])]),e("div",X,[e("p",null,I(c.description),1),e("div",null,[A(a,{to:{name:"plugin-config",params:{avatar_id:B(_).avatar.ID,plugin_id:c.ID,active_plugin_id:f(c.ID)}},class:"btn btn-primary"},{default:V(()=>[N(" Configure ")]),_:2},1032,["to"])])])])]))),128))]))),128))])])])])])}}},ce=P(Y,[["__scopeId","data-v-b7c2f687"]]);export{ce as default};
