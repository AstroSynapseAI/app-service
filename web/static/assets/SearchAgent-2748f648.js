import{t as k,K as T,b as i,o as C,i as g,d as p,e,M,l as b,f as I,g as L,F as V,N as m,T as N,j as x,k as $,O as A}from"./index-a228bdd3.js";import{u as F}from"./agent.store-220772fb.js";import{u as P}from"./llm.store-4fa0c201.js";import{u as R}from"./avatar.store-003da4be.js";const U={class:"h3 mb-3"},B={class:"form-check form-switch float-end me-5"},E=e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Active",-1),O=["checked"],G={class:"form-check form-switch float-end me-3"},J=e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Public",-1),j=["checked"],H={class:"card"},K={class:"card-body"},q={class:"container-fluid"},z={class:"row"},Q={class:"col-6"},W=e("h3",null,"Primer",-1),X={class:"col-6"},Y={class:"row"},Z={class:"col-12"},ee=e("h3",null,"Agent Model",-1),te=e("option",{value:"",disabled:"",selected:""},"Select a LLM",-1),oe=["value"],ae={class:"row"},se={clas:"col-12"},le=e("h3",null,"Search Tools",-1),ce=e("span",null,"Duck Duck Go",-1),ie={class:"form-check form-switch"},ne=["checked"],de=e("span",null," Google Search",-1),re={class:"form-floating mb-3"},_e=e("label",{for:"apiToken"},"Api Token",-1),ue={class:"form-check form-switch"},ve=["checked"],he=e("span",null," Exa Search",-1),ge={class:"form-floating mb-3"},pe=e("label",{for:"apiToken"},"Api Token",-1),me={class:"form-check form-switch"},fe=["checked"],Se={__name:"SearchAgent",setup(ke){const l=R(),v=F(),n=k(v,"record"),c=T(),f=P(),w=k(f,"records"),d=i(""),S=i(""),u=i(""),r=i(!1),_=i(!1),o=i({ddg_is_active:!0,google_api_token:"",google_is_active:!1,exa_api_token:"",exa_is_active:!1}),h=s=>{s==="ddg"&&(o.ddg_is_active=!o.ddg_is_active),s==="google"&&(o.google_is_active=!o.google_is_active),s==="exa"&&(o.exa_is_active=!o.exa_is_active)},y=async()=>{const s={ID:parseInt(c.params.active_agent_id),avatar_id:parseInt(c.params.avatar_id),agent_id:parseInt(c.params.agent_id),llm_id:u.value,primer:d.value,is_active:r.value,is_public:_.value,config:JSON.stringify(o.value)};n.value.ID&&(s.ID=n.value.ID);try{await v.saveActiveAgent(s)}catch(t){console.log(t)}};return C(async()=>{try{await f.getLLMs(),await v.getAgent(c.params.agent_id),d.value=n.value.primer,S.value=n.value.name,c.params.active_agent_id&&(await l.getActiveAgent(c.params.agent_id,c.params.avatar_id),u.value=l.activeAgent.llm_id,d.value=l.activeAgent.primer,r.value=l.activeAgent.is_active,_.value=l.activeAgent.is_public,l.activeAgent.config&&(o.value=JSON.parse(l.activeAgent.config)))}catch(s){console.log(s)}feather.replace()}),(s,t)=>(g(),p(x,null,[e("h1",U,[M("Configure: "+b(n.value.name)+" ",1),e("div",B,[E,e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:r.value,onClick:t[0]||(t[0]=a=>r.value=!r.value)},null,8,O)]),e("div",G,[J,e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:_.value,onClick:t[1]||(t[1]=a=>_.value=!_.value)},null,8,j)])]),e("div",H,[e("div",K,[e("div",q,[e("div",z,[e("div",Q,[W,I(L(V),{modelValue:d.value,"onUpdate:modelValue":t[2]||(t[2]=a=>d.value=a),name:"agent_primer",type:"text",as:"textarea",class:"form-control",rows:"30",placeholder:"How should the agent behave..."},null,8,["modelValue"])]),e("div",X,[e("div",Y,[e("div",Z,[ee,m(e("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>u.value=a),class:"form-select model-select","aria-label":"Select Model"},[te,(g(!0),p(x,null,$(w.value,(a,D)=>(g(),p("option",{value:a.ID,key:D},b(a.name),9,oe))),128))],512),[[N,u.value]])])]),e("div",ae,[e("div",se,[le,ce,e("div",ie,[e("input",{class:"form-check-input",type:"checkbox",id:"ddg-checkbox",onClick:t[4]||(t[4]=a=>h("ddg")),checked:o.value.ddg_is_active},null,8,ne)]),de,e("div",re,[m(e("input",{type:"text",class:"form-control",id:"apiToken",placeholder:"Tool Token","onUpdate:modelValue":t[5]||(t[5]=a=>o.value.google_api_token=a)},null,512),[[A,o.value.google_api_token]]),_e]),e("div",ue,[e("input",{class:"form-check-input",type:"checkbox",id:"google-checkbox",onClick:t[6]||(t[6]=a=>h("google")),checked:o.value.google_is_active},null,8,ve)]),he,e("div",ge,[m(e("input",{type:"text",class:"form-control",id:"apiToken",placeholder:"Tool Token","onUpdate:modelValue":t[7]||(t[7]=a=>o.value.exa_api_token=a)},null,512),[[A,o.value.exa_api_token]]),pe]),e("div",me,[e("input",{class:"form-check-input",type:"checkbox",id:"exa-checkbox",onClick:t[8]||(t[8]=a=>h("exa")),checked:o.value.exa_is_active},null,8,fe)])])])])]),e("div",{class:"row mt-3"},[e("div",{class:"col-12"},[e("button",{type:"button",class:"btn btn-secondary",onClick:y},"Save")])])])])])],64))}};export{Se as default};
