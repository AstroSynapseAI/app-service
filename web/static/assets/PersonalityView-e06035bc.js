import{_ as D,u as M,c as P,a as p,r as x,v as N,b as h,t as k,o as F,d as n,e as a,f as r,w as g,g as s,i as c,F as f,E as b,j as U,k as q,l as B,m as E,p as T,n as $}from"./index-a228bdd3.js";import{u as j}from"./avatar.store-003da4be.js";import{u as C}from"./llm.store-4fa0c201.js";const d=u=>(T("data-v-9ec5a37b"),u=u(),$(),u),R={class:"container-fluid p-0"},z=d(()=>a("h1",{class:"h3 mb-3"},"Personality",-1)),G={class:"row"},H={class:"col-12"},J={class:"card"},K={class:"card-body"},O={class:"row mb-5"},Q={class:"col-6"},W={class:"form-floating mb-1"},X=d(()=>a("label",{for:"floatingInput"},"Avatar name",-1)),Y={class:"col-6"},Z=d(()=>a("option",{value:"",disabled:"",selected:""},"Select a LLM",-1)),aa=["value"],ea={class:"row mb-5"},ta={class:"col-12"},sa=d(()=>a("h3",null,"Primer",-1)),oa=["disabled"],ra={key:0},la=d(()=>a("span",{class:"loader"},null,-1)),ia=[la],na={key:1},ca={__name:"PersonalityView",setup(u){const y=M(),L=P({AvatarName:p().required("The Avatar Name is required"),AvatarLLMID:p().required("The LLM is required"),AvatarPrimer:p()}),i=x({isSubmitting:!1}),S=C(),A=j(),e=N(),m=h(""),v=h(""),_=h(""),I=k(S,"records"),V=async()=>{i.isSubmitting=!0;try{const o={name:m.value,llm:v.value,primer:_.value};e.avatar.ID&&(o.ID=e.avatar.ID),await A.saveAvatar(o),y.success("Avatar saved successfully"),i.isSubmitting=!1}catch(o){y.error(o),i.isSubmitting=!1}};return F(async()=>{try{await S.getLLMs(),await e.getUserAvatar(e.current.ID),e.avatar&&(m.value=e.avatar.name,v.value=e.avatar.llm_id,_.value=e.avatar.primer)}catch(o){console.log(o)}feather.replace()}),(o,l)=>(c(),n("div",R,[z,a("div",G,[a("div",H,[a("div",J,[a("div",K,[r(s(E),{class:"container p-4",onSubmit:V,"validation-schema":s(L)},{default:g(()=>[a("div",O,[a("div",Q,[a("div",W,[r(s(f),{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=t=>m.value=t),name:"AvatarName",type:"text",class:"form-control",id:"floatingInput",placeholder:"Name your Avatar..."},null,8,["modelValue"]),X]),r(s(b),{name:"AvatarName"})]),a("div",Y,[r(s(f),{name:"AvatarLLMID",as:"select",modelValue:v.value,"onUpdate:modelValue":l[1]||(l[1]=t=>v.value=t),class:"form-select model-select mb-1","aria-label":"Select Model"},{default:g(()=>[Z,(c(!0),n(U,null,q(I.value,(t,w)=>(c(),n("option",{value:t.ID,key:w},B(t.name),9,aa))),128))]),_:1},8,["modelValue"]),r(s(b),{name:"AvatarLLMID"})])]),a("div",ea,[a("div",ta,[sa,r(s(f),{modelValue:_.value,"onUpdate:modelValue":l[2]||(l[2]=t=>_.value=t),name:"AvatarPrimer",type:"text",as:"textarea",class:"form-control mb-4",rows:"8",placeholder:""},null,8,["modelValue"]),r(s(b),{name:"AvatarPrimer"})])]),a("button",{type:"submit",class:"btn btn-secondary",disabled:i.isSubmitting},[i.isSubmitting?(c(),n("span",ra,ia)):(c(),n("span",na,"Save"))],8,oa)]),_:1},8,["validation-schema"])])])])])]))}},va=D(ca,[["__scopeId","data-v-9ec5a37b"]]);export{va as default};
