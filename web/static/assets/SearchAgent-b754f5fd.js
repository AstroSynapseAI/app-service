import{I as k,B as T,r as i,o as C,c as g,x as p,f as e,L as I,C as x,h as L,k as M,F as V,M as m,T as N,y as b,z as $,N as A}from"./index-510910de.js";import{u as B}from"./agent.store-3dac9ca8.js";import{u as F}from"./llm.store-e461a386.js";import{u as P}from"./avatar.store-696f12a6.js";const R={class:"h3 mb-3"},U={class:"form-check form-switch float-end me-5"},E=e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Active",-1),G=["checked"],J={class:"form-check form-switch float-end me-3"},O=e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Public",-1),z=["checked"],H={class:"card"},j={class:"card-body"},q={class:"container-fluid"},K={class:"row"},Q={class:"col-6"},W=e("h3",null,"Primer",-1),X={class:"col-6"},Y={class:"row"},Z={class:"col-12"},ee=e("h3",null,"Agent Model",-1),te=e("option",{value:"",disabled:"",selected:""},"Select a LLM",-1),oe=["value"],ae={class:"row"},se={clas:"col-12"},ce=e("h3",null,"Search Tools",-1),le=e("span",null,"Duck Duck Go",-1),ie={class:"form-check form-switch"},ne=["checked"],de=e("span",null," Google Search",-1),re={class:"form-floating mb-3"},_e=e("label",{for:"apiToken"},"Api Token",-1),ue={class:"form-check form-switch"},ve=["checked"],he=e("span",null," Exa Search",-1),ge={class:"form-floating mb-3"},pe=e("label",{for:"apiToken"},"Api Token",-1),me={class:"form-check form-switch"},fe=["checked"],ye={__name:"SearchAgent",setup(ke){const c=P(),v=B(),n=k(v,"record"),l=T(),f=F(),w=k(f,"records"),d=i(""),y=i(""),u=i(""),r=i(!1),_=i(!1),o=i({ddg_is_active:!0,google_api_token:"",google_is_active:!1,exa_api_token:"",exa_is_active:!1}),h=s=>{s==="ddg"&&(o.ddg_is_active=!o.ddg_is_active),s==="google"&&(o.google_is_active=!o.google_is_active),s==="exa"&&(o.exa_is_active=!o.exa_is_active)},S=async()=>{const s={ID:parseInt(l.params.active_agent_id),avatar_id:parseInt(l.params.avatar_id),agent_id:parseInt(l.params.agent_id),llm_id:u.value,primer:d.value,is_active:r.value,is_public:_.value,config:JSON.stringify(o.value)};n.value.ID&&(s.ID=n.value.ID);try{await v.saveActiveAgent(s)}catch(t){console.log(t)}};return C(async()=>{try{await f.getLLMs(),await v.getAgent(l.params.agent_id),d.value=n.value.primer,y.value=n.value.name,l.params.active_agent_id&&(await c.getActiveAgent(l.params.agent_id,l.params.avatar_id),u.value=c.activeAgent.llm_id,d.value=c.activeAgent.primer,r.value=c.activeAgent.is_active,_.value=c.activeAgent.is_public,c.activeAgent.config&&(o.value=JSON.parse(c.activeAgent.config)))}catch(s){console.log(s)}feather.replace()}),(s,t)=>(g(),p(b,null,[e("h1",R,[I("Configure: "+x(n.value.name)+" ",1),e("div",U,[E,e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:r.value,onClick:t[0]||(t[0]=a=>r.value=!r.value)},null,8,G)]),e("div",J,[O,e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:_.value,onClick:t[1]||(t[1]=a=>_.value=!_.value)},null,8,z)])]),e("div",H,[e("div",j,[e("div",q,[e("div",K,[e("div",Q,[W,L(M(V),{modelValue:d.value,"onUpdate:modelValue":t[2]||(t[2]=a=>d.value=a),name:"agent_primer",type:"text",as:"textarea",class:"form-control",rows:"30",placeholder:"How should the agent behave..."},null,8,["modelValue"])]),e("div",X,[e("div",Y,[e("div",Z,[ee,m(e("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>u.value=a),class:"form-select model-select","aria-label":"Select Model"},[te,(g(!0),p(b,null,$(w.value,(a,D)=>(g(),p("option",{value:a.ID,key:D},x(a.name),9,oe))),128))],512),[[N,u.value]])])]),e("div",ae,[e("div",se,[ce,le,e("div",ie,[e("input",{class:"form-check-input",type:"checkbox",id:"ddg-checkbox",onClick:t[4]||(t[4]=a=>h("ddg")),checked:o.value.ddg_is_active},null,8,ne)]),de,e("div",re,[m(e("input",{type:"text",class:"form-control",id:"apiToken",placeholder:"Tool Token","onUpdate:modelValue":t[5]||(t[5]=a=>o.value.google_api_token=a)},null,512),[[A,o.value.google_api_token]]),_e]),e("div",ue,[e("input",{class:"form-check-input",type:"checkbox",id:"google-checkbox",onClick:t[6]||(t[6]=a=>h("google")),checked:o.value.google_is_active},null,8,ve)]),he,e("div",ge,[m(e("input",{type:"text",class:"form-control",id:"apiToken",placeholder:"Tool Token","onUpdate:modelValue":t[7]||(t[7]=a=>o.value.exa_api_token=a)},null,512),[[A,o.value.exa_api_token]]),pe]),e("div",me,[e("input",{class:"form-check-input",type:"checkbox",id:"exa-checkbox",onClick:t[8]||(t[8]=a=>h("exa")),checked:o.value.exa_is_active},null,8,fe)])])])])]),e("div",{class:"row mt-3"},[e("div",{class:"col-12"},[e("button",{type:"button",class:"btn btn-secondary",onClick:S},"Save")])])])])])],64))}};export{ye as default};
