import{u as w}from"./agent.store-93f10021.js";import{_ as y,u as x,I as f,o as C,x as o,f as e,y as g,z as m,K as S,c as n,C as A,A as b,h as V,e as N,L as B,k as L,q as R,s as q}from"./index-10c4e2e0.js";import{u as z}from"./avatar.store-031b079f.js";const I=l=>(R("data-v-c34a2a2e"),l=l(),q(),l),E={class:"container-fluid p-0"},F=I(()=>e("h1",{class:"h3 mb-3"},"Agents",-1)),K={class:"row"},M={class:"col-12"},T={class:"container"},U={class:"card"},$={class:"card-header"},j={class:"row"},G={class:"col"},H={class:"card-title"},J={class:"col-auto"},O={key:0,class:"form-check form-switch d-flex align-items-center"},P=["checked","onClick"],Q=I(()=>e("label",{style:{"margin-bottom":"-5px"},for:"flexSwitchCheckDefault"},"Active",-1)),W={class:"card-body"},X={__name:"AgentsView",setup(l){const _=x(),d=w(),u=f(d,"records"),h=z(),v=f(h,"activeAgents"),k=s=>{const t=v.value.find(c=>c.agent.ID===s);return t?t.is_active:!1},D=async s=>{const t=v.value.find(i=>i.agent.ID==s);t&&(t.is_active=!t.is_active);const c={is_active:t?t.is_active:!1,avatar_id:_.avatar.ID};try{await d.toggleActiveAgent(s,c)}catch(i){console.log(i)}},p=s=>{const t=v.value.find(c=>c.agent.ID===s);return t?t.ID:null};return C(async()=>{await d.getAgents();try{await h.getActiveAgents(_.avatar.ID)}catch(s){console.log(s)}feather.replace()}),(s,t)=>{const c=S("router-link");return n(),o("div",E,[F,e("div",K,[e("div",M,[e("div",T,[(n(!0),o(g,null,m(u.value.filter((i,r)=>r%2===0),(i,r)=>(n(),o("div",{class:"row",key:"row"+r},[(n(!0),o(g,null,m(u.value.slice(r,r+2),a=>(n(),o("div",{class:"col-6",key:a.ID},[e("div",U,[e("div",$,[e("div",j,[e("div",G,[e("h5",H,A(a.name),1)]),e("div",J,[p(a.ID)?(n(),o("div",O,[e("input",{class:"form-check-input me-2",type:"checkbox",id:"flexSwitchCheckDefault",checked:k(a.ID),onClick:Y=>D(a.ID)},null,8,P),Q])):b("",!0)])])]),e("div",W,[e("p",null,A(a.description),1),e("div",null,[V(c,{to:{name:a.slug,params:{avatar_id:L(_).avatar.ID,agent_id:a.ID,active_agent_id:p(a.ID)}},class:"btn btn-primary"},{default:N(()=>[B("Configure")]),_:2},1032,["to"])])])])]))),128))]))),128))])])])])}}},se=y(X,[["__scopeId","data-v-c34a2a2e"]]);export{se as default};
