import{u as D}from"./agent.store-52a9b6a3.js";import{u as I,I as f,o as y,x as o,f as t,y as m,z as g,K as w,c as n,C as p,A as C,h as x,e as b,L as S,k as V}from"./index-a5a8c750.js";import{u as N}from"./avatar.store-27356efd.js";const B={class:"container-fluid p-0"},L=t("h1",{class:"h3 mb-3"},"Agents",-1),R={class:"row"},z={class:"col-12"},E={class:"container"},F={class:"card"},K={class:"card-header"},M={class:"row"},T={class:"col"},U={class:"card-title"},$={class:"col-auto"},j={key:0,class:"form-check form-switch d-flex align-items-center"},q=["checked","onClick"],G=t("label",{style:{"margin-bottom":"-5px"},for:"flexSwitchCheckDefault"},"Active",-1),H={class:"card-body"},X={__name:"AgentsView",setup(J){const l=I(),d=D(),v=f(d,"records"),u=N(),_=f(u,"activeAgents"),A=s=>{const e=_.value.find(c=>c.agent.ID===s);return e?e.is_active:!1},k=async s=>{const e=_.value.find(i=>i.agent.ID==s);e&&(e.is_active=!e.is_active);const c={is_active:e?e.is_active:!1,avatar_id:l.avatar.ID};try{await d.toggleActiveAgent(s,c)}catch(i){console.log(i)}},h=s=>{const e=_.value.find(c=>c.agent.ID===s);return e?e.ID:null};return y(async()=>{await d.getAgents();try{await u.getActiveAgents(l.avatar.ID)}catch(s){console.log(s)}feather.replace()}),(s,e)=>{const c=w("router-link");return n(),o("div",B,[L,t("div",R,[t("div",z,[t("div",E,[(n(!0),o(m,null,g(v.value.filter((i,r)=>r%2===0),(i,r)=>(n(),o("div",{class:"row",key:"row"+r},[(n(!0),o(m,null,g(v.value.slice(r,r+2),a=>(n(),o("div",{class:"col-6",key:a.ID},[t("div",F,[t("div",K,[t("div",M,[t("div",T,[t("h5",U,p(a.name),1)]),t("div",$,[h(a.ID)?(n(),o("div",j,[t("input",{class:"form-check-input me-2",type:"checkbox",id:"flexSwitchCheckDefault",checked:A(a.ID),onClick:O=>k(a.ID)},null,8,q),G])):C("",!0)])])]),t("div",H,[t("p",null,p(a.description),1),t("div",null,[x(c,{to:{name:a.slug,params:{avatar_id:V(l).avatar.ID,agent_id:a.ID,active_agent_id:h(a.ID)}},class:"btn btn-primary"},{default:b(()=>[S("Configure")]),_:2},1032,["to"])])])])]))),128))]))),128))])])])])}}};export{X as default};
