import{_ as D,I as S,B as M,r as c,o as T,c as g,x as b,f as e,L as C,C as w,h as U,k as N,F as E,M as l,T as k,y as A,z as P,N as r,q as R,s as B,R as F}from"./index-10c4e2e0.js";import{u as J}from"./agent.store-93f10021.js";import{u as O}from"./llm.store-9bbaa2aa.js";import{u as $}from"./avatar.store-031b079f.js";const a=m=>(R("data-v-6734197e"),m=m(),B(),m),q={class:"h3 mb-3"},z={class:"form-check form-switch float-end me-5"},H=a(()=>e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Active",-1)),j=["checked"],G={class:"form-check form-switch float-end me-3"},K=a(()=>e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Public",-1)),Q=["checked"],W={class:"card"},X={class:"card-body"},Y={class:"container-fluid"},Z={class:"row"},ee={class:"col-6"},te=a(()=>e("h3",{class:"mb-3"},"Primer",-1)),se={class:"col-6"},oe={class:"row"},ae={class:"col-12"},le=a(()=>e("h3",{class:"mb-3"},"Agent Model",-1)),ne=a(()=>e("option",{value:"",disabled:"",selected:""},"Select a LLM",-1)),ie=["value"],ce={class:"row"},re={clas:"col-12"},de=a(()=>e("h3",{class:"my-3"},"Email Config",-1)),pe={class:"row"},ve={class:"col-6"},_e={class:"form-floating mb-3"},ue=a(()=>e("label",{for:"smtp-server"},"SMTP Server",-1)),me={class:"col-4"},fe={class:"form-floating mb-3"},he=F('<option value="" disabled selected data-v-6734197e>Select Encryption Type</option><option value="ssl" data-v-6734197e>SSL</option><option value="tls" data-v-6734197e>TLS</option><option value="starttls" data-v-6734197e>STARTTLS</option><option value="ssltls" data-v-6734197e>SSL/TLS</option><option value="none" data-v-6734197e>None</option>',6),ge=[he],be=a(()=>e("label",{for:"smtp-encryption"},"Encryption",-1)),ye={class:"col-2"},Se={class:"form-floating mb-3"},we=a(()=>e("label",{for:"smtp-port"},"Port",-1)),ke={class:"row"},Ae={class:"col-6"},xe={class:"form-floating mb-3"},Le=a(()=>e("label",{for:"smtp-username"},"Username",-1)),Ve={class:"col-6"},Ie={class:"form-floating mb-3"},De=a(()=>e("label",{for:"smtp-password"},"Password",-1)),Me={class:"row"},Te={class:"col-6"},Ce={class:"form-floating mb-3"},Ue=a(()=>e("label",{for:"sender"},"Sender",-1)),Ne={class:"col-6"},Ee={class:"form-floating mb-3"},Pe=a(()=>e("label",{for:"reply-to"},"Reply To",-1)),Re={__name:"EmailAgent",setup(m){const n=$(),h=J(),d=S(h,"record"),i=M(),y=O(),x=S(y,"records"),p=c(""),L=c(""),f=c(""),v=c(!1),_=c(!1),o=c({imap_server:"",smtp_server:"",imap_port:"",smtp_port:"",username:"",password:"",encryption:"",sender:"",reply_to:""}),V=async()=>{const u={ID:parseInt(i.params.active_agent_id),avatar_id:parseInt(i.params.avatar_id),agent_id:parseInt(i.params.agent_id),llm_id:f.value,primer:p.value,is_active:v.value,is_public:_.value,config:JSON.stringify(o.value)};d.value.ID&&(u.ID=d.value.ID);try{await h.saveActiveAgent(u)}catch(t){console.log(t)}};return T(async()=>{try{await y.getLLMs(),await h.getAgent(i.params.agent_id),p.value=d.value.primer,L.value=d.value.name,i.params.active_agent_id&&(await n.getActiveAgent(i.params.agent_id,i.params.avatar_id),f.value=n.activeAgent.llm_id,p.value=n.activeAgent.primer,v.value=n.activeAgent.is_active,_.value=n.activeAgent.is_public,n.activeAgent.config&&(o.value=JSON.parse(n.activeAgent.config)))}catch(u){console.log(u)}feather.replace()}),(u,t)=>(g(),b(A,null,[e("h1",q,[C("Configure: "+w(d.value.name)+" ",1),e("div",z,[H,e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:v.value,onClick:t[0]||(t[0]=s=>v.value=!v.value)},null,8,j)]),e("div",G,[K,e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:_.value,onClick:t[1]||(t[1]=s=>_.value=!_.value)},null,8,Q)])]),e("div",W,[e("div",X,[e("div",Y,[e("div",Z,[e("div",ee,[te,U(N(E),{modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=s=>p.value=s),name:"agent_primer",type:"text",as:"textarea",class:"form-control",rows:"30",placeholder:"How should the agent behave..."},null,8,["modelValue"])]),e("div",se,[e("div",oe,[e("div",ae,[le,l(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>f.value=s),class:"form-select model-select","aria-label":"Select Model"},[ne,(g(!0),b(A,null,P(x.value,(s,I)=>(g(),b("option",{value:s.ID,key:I},w(s.name),9,ie))),128))],512),[[k,f.value]])])]),e("div",ce,[e("div",re,[de,e("div",pe,[e("div",ve,[e("div",_e,[l(e("input",{type:"text",class:"form-control",id:"smtp-server",placeholder:"mail.example.com","onUpdate:modelValue":t[4]||(t[4]=s=>o.value.smtp_server=s)},null,512),[[r,o.value.smtp_server]]),ue])]),e("div",me,[e("div",fe,[l(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>o.value.encryption=s),class:"form-select model-select","aria-label":"Select Model"},ge,512),[[k,o.value.encryption]]),be])]),e("div",ye,[e("div",Se,[l(e("input",{type:"text",class:"form-control",id:"smtp-port",placeholder:"587","onUpdate:modelValue":t[6]||(t[6]=s=>o.value.smtp_port=s)},null,512),[[r,o.value.smtp_port]]),we])])]),e("div",ke,[e("div",Ae,[e("div",xe,[l(e("input",{type:"text",class:"form-control",id:"smtp-username",placeholder:"username","onUpdate:modelValue":t[7]||(t[7]=s=>o.value.username=s)},null,512),[[r,o.value.username]]),Le])]),e("div",Ve,[e("div",Ie,[l(e("input",{type:"password",class:"form-control",id:"smtp-password",placeholder:"password","onUpdate:modelValue":t[8]||(t[8]=s=>o.value.password=s)},null,512),[[r,o.value.password]]),De])])]),e("div",Me,[e("div",Te,[e("div",Ce,[l(e("input",{type:"text",class:"form-control",id:"sender",placeholder:"sender","onUpdate:modelValue":t[9]||(t[9]=s=>o.value.sender=s)},null,512),[[r,o.value.sender]]),Ue])]),e("div",Ne,[e("div",Ee,[l(e("input",{type:"text",class:"form-control",id:"reply-to",placeholder:"reply-to","onUpdate:modelValue":t[10]||(t[10]=s=>o.value.reply_to=s)},null,512),[[r,o.value.reply_to]]),Pe])])])])])])]),e("div",{class:"row mt-3"},[e("div",{class:"col-12"},[e("button",{type:"button",class:"btn btn-secondary",onClick:V},"Save")])])])])])],64))}},$e=D(Re,[["__scopeId","data-v-6734197e"]]);export{$e as default};
