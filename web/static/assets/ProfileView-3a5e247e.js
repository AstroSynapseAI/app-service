import{k as p,r as l,o as w,a as b,c as P,b as s,w as n,v as r}from"./index-3aa7baa5.js";const y={class:"container-fluid p-0"},N=s("h1",{class:"h3 mb-3"},"Account",-1),U={class:"card"},g={class:"card-body"},V={class:"container p-4"},x=s("h3",null,"User Information",-1),C={class:"row"},D={class:"col-6"},I={class:"form-floating mb-3"},k=s("label",{for:"username"},"Username",-1),B={class:"row"},A={class:"col-6"},F={class:"form-floating mb-3"},L=s("label",{for:"firstName"},"First Name",-1),M={class:"col-6"},S={class:"form-floating mb-3"},E=s("label",{for:"lastName"},"Last Name",-1),T=s("hr",null,null,-1),j=s("h3",null,"Change Password",-1),q={class:"row"},z={class:"col-6"},G={class:"form-floating mb-3"},H=s("label",{for:"newPassword"},"New Password",-1),J={class:"col-6"},K={class:"form-floating mb-3"},O=s("label",{for:"confirmPassword"},"Confirm Password",-1),W={__name:"ProfileView",setup(Q){const o=p(),c=l(""),i=l(""),m=l(""),d=l(""),u=l(""),_=l("");l("");const f=()=>i.value===m.value,v=async()=>{try{const a={username:c.value,first_name:d.value,last_name:u.value,email:_.value};o.account&&(a.account_id=o.account.ID),o.saveProfile(o.current.ID,a)}catch(a){console.error(a)}},h=async()=>{f()||alert("Passwords do not match.");try{o.changePassword(o.current.ID,{password:i.value})}catch(a){console.error(a)}};return w(async()=>{c.value=o.current.username;try{await o.getUserAccounts(o.current.ID),o.account&&(d.value=o.account.first_name,u.value=o.account.last_name,_.value=o.account.email)}catch(a){console.error(a)}feather.replace()}),(a,e)=>(b(),P("div",y,[N,s("div",U,[s("div",g,[s("div",V,[x,s("div",C,[s("div",D,[s("div",I,[n(s("input",{type:"text",class:"form-control",id:"username",placeholder:"Username","onUpdate:modelValue":e[0]||(e[0]=t=>c.value=t)},null,512),[[r,c.value]]),k])])]),s("div",B,[s("div",A,[s("div",F,[n(s("input",{type:"text",class:"form-control",id:"firstName",placeholder:"First Name","onUpdate:modelValue":e[1]||(e[1]=t=>d.value=t)},null,512),[[r,d.value]]),L])]),s("div",M,[s("div",S,[n(s("input",{type:"text",class:"form-control",id:"lastName",placeholder:"Last Name","onUpdate:modelValue":e[2]||(e[2]=t=>u.value=t)},null,512),[[r,u.value]]),E])])]),s("div",{class:"row"},[s("div",{class:"col-12"},[s("button",{class:"btn btn-primary float-end",onClick:v},"Save")])]),T,j,s("div",q,[s("div",z,[s("div",G,[n(s("input",{type:"password",class:"form-control",id:"newPassword",placeholder:"New Password","onUpdate:modelValue":e[3]||(e[3]=t=>i.value=t)},null,512),[[r,i.value]]),H])]),s("div",J,[s("div",K,[n(s("input",{type:"password",class:"form-control",id:"confirmPassword",placeholder:"Confirm Password","onUpdate:modelValue":e[4]||(e[4]=t=>m.value=t)},null,512),[[r,m.value]]),O])])]),s("div",{class:"row"},[s("div",{class:"col-12"},[s("button",{class:"btn btn-primary float-end",onClick:h},"Change")])])])])])]))}};export{W as default};
