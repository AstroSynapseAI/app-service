import{_ as E,D as P,r as i,u as G,I as A,o as B,x as I,f as e,M as r,N as n,T as q,L as p,A as z,h as Y,e as $,R as S,O as K,K as j,c as L,q as F,t as H}from"./index-135dd9b6.js";import{u as Q}from"./llm.store-f3550a69.js";import{u as W}from"./agent.store-0716d76d.js";import{u as X}from"./avatar.store-79e50ce6.js";const l=u=>(F("data-v-184f3239"),u=u(),H(),u),Z={class:"container"},ee=S('<div class="row" data-v-184f3239><div class="col-4 d-flex flex-column align-items-center text-center" data-v-184f3239><div class="circle mb-5" data-v-184f3239><h2 class="circle-text" data-v-184f3239><i data-feather="check" style="width:36px;height:36px;" data-v-184f3239></i></h2></div><h3 class="mb-3" data-v-184f3239>Create Avatar</h3><p class="lead mb-5" data-v-184f3239>Give your AI avatar a name and describe how it should behave.</p></div><div class="col-4 d-flex flex-column align-items-center text-center" data-v-184f3239><div class="circle mb-5" data-v-184f3239><h2 class="circle-text" data-v-184f3239><i data-feather="check" style="width:36px;height:36px;" data-v-184f3239></i></h2></div><h3 class="mb-3" data-v-184f3239>Choose models</h3><p class="lead mb-5" data-v-184f3239>Select one or more LLM models yor avatar will be using.</p></div><div class="col-4 text-center d-flex flex-column align-items-center" data-v-184f3239><div class="circle current mb-5" data-v-184f3239><h2 class="circle-text" data-v-184f3239>3</h2></div><h3 class="mb-3" data-v-184f3239>Select Agents</h3><p class="lead mb-5" data-v-184f3239>Your AI Avatar can browse the internet, answer emails, post on social media nad more!</p></div></div>',1),te={class:"row"},ae={class:"col-4 d-flex"},se={class:"card h-100"},oe={class:"card-body"},le=l(()=>e("h5",{class:"card-title"},[p("Search Agent "),e("i",{"data-feather":"info",class:"float-end"})],-1)),ce=l(()=>e("p",{class:"card-text"},"Utilizes search engines such as Google, DuckDuckGo, and Metaphor for automated web searches.",-1)),ie={class:"card-action mt-4"},re={class:"form-check form-switch"},ne=["checked"],de={class:"col-4 d-flex"},ve={class:"card h-100"},_e={class:"card-body"},pe=l(()=>e("h5",{class:"card-title"},[p("Email Agent "),e("i",{"data-feather":"info",class:"float-end"})],-1)),ue=l(()=>e("p",{class:"card-text"},"Email agent connects to your email server, and then comopses and sends email for you. ",-1)),me={class:"card-action mt-4"},fe={class:"form-check form-switch"},he=["checked"],ge=l(()=>e("div",{class:"col-4 d-flex"},[e("div",{class:"card h-100"},[e("div",{class:"card-body"},[e("h5",{class:"card-title"},[p("Library Agent "),e("i",{"data-feather":"info",class:"float-end"})]),e("p",{class:"card-text"},"Utilizes search engines such as Google, DuckDuckGo, and Metaphor for automated web searches."),e("div",{class:"card-action mt-4"},[e("div",{class:"form-check form-switch"},[e("input",{class:"form-check-input float-end",type:"checkbox",role:"switch",id:"search-agent"})])]),e("div",{class:"card-overlay position-absolute"})])])],-1)),be={key:0,class:"row mt-3"},ye={class:"col-8 offset-2"},Se={class:"card"},xe={class:"card-body"},we=S('<div class="row" data-v-184f3239><div class="col-1" data-v-184f3239><i class="fas fa-gear fa-2x float-end" data-v-184f3239></i></div><div class="col-10" data-v-184f3239><h2 data-v-184f3239>Email agent setup.</h2><p class="lead" data-v-184f3239>In order to dispatch emails yor email agent needs access to your preferd SMTP server. </p></div></div>',1),ke={class:"row"},Ae={class:"col-6"},Ie={class:"form-floating mb-3"},Le=l(()=>e("label",{for:"smtp-server"},"SMTP Server",-1)),Me={class:"col-4"},Ne={class:"form-floating mb-3"},Te=S('<option value="" disabled selected data-v-184f3239>Select Encryption Type</option><option value="ssl" data-v-184f3239>SSL</option><option value="tls" data-v-184f3239>TLS</option><option value="starttls" data-v-184f3239>STARTTLS</option><option value="ssltls" data-v-184f3239>SSL/TLS</option><option value="none" data-v-184f3239>None</option>',6),Ve=[Te],De=l(()=>e("label",{for:"smtp-encryption"},"Encryption",-1)),Ce={class:"col-2"},Ue={class:"form-floating mb-3"},Oe=l(()=>e("label",{for:"smtp-port"},"Port",-1)),Je={class:"row"},Re={class:"col-6"},Ee={class:"form-floating mb-3"},Pe=l(()=>e("label",{for:"smtp-username"},"Username",-1)),Ge={class:"col-6"},Be={class:"form-floating mb-3"},qe=l(()=>e("label",{for:"smtp-password"},"Password",-1)),ze={class:"row"},Ye={class:"col-6"},$e={class:"form-floating mb-3"},Ke=l(()=>e("label",{for:"sender"},"Sender",-1)),je={class:"col-6"},Fe={class:"form-floating mb-3"},He=l(()=>e("label",{for:"reply-to"},"Reply To",-1)),Qe={class:"row",style:{"margin-top":"80px"}},We={class:"col-4 offset-2 text-center d-grid"},Xe={__name:"SelectAgentsView",setup(u){const M=K(),N=P(),c=i([]),m=i(!1),d=i(!1),f=i({}),o=i({imap_server:"",smtp_server:"",imap_port:"",smtp_port:"",username:"",password:"",encryption:"",sender:"",reply_to:""}),T=i({ddg_is_active:!0,google_api_token:"",google_is_active:!1,exa_api_token:"",exa_is_active:!1}),V=G(),g=Q(),D=A(g,"records"),b=W(),C=A(b,"records"),y=X(),h=i(""),v=i(""),U=async()=>{let t=JSON.parse(localStorage.getItem("onboarding_data"));if(t)try{await g.getLLMs(),t.avatar_llm=="gpt"?h.value=D.value.find(s=>s.slug==="gpt-4"):console.log("missing LLM");const a={user_id:V.current.ID,name:t.avatar_name,primer:t.avatar_primer,llm:h.value.ID};await y.saveAvatar(a);const _={token:t.openai_token,is_active:!0,is_public:!1,llm_id:h.value.ID,avatar_id:y.userAvatar.ID};await g.saveLLM(_),await b.getAgents();for(let s=0;s<t.avatar_agents.length;s++){v.value=C.value.find(R=>R.slug===t.avatar_agents[s]),v.value.slug==="email-agent"&&(f.value=o.value),v.value.slug==="search-agent"&&(f.value=T.value);let k={is_active:!0,is_public:!1,primer:v.value.primer,llm_id:h.value.ID,avatar_id:y.userAvatar.ID,agent_id:v.value.ID};f&&(k.config=JSON.stringify(f.value)),await b.saveActiveAgent(k)}localStorage.removeItem("onboarding_data")}catch(a){console.error(a),N.error("Something went worng, we couldn't create your avatar")}},x=t=>{let a=JSON.parse(localStorage.getItem("onboarding_data"));c.value.includes(t)?(t==="email-agent"&&(d.value=!1),c.value=c.value.filter(_=>_!==t)):(t==="email-agent"&&(d.value=!0),c.value.push(t)),a.avatar_agents=c.value,localStorage.setItem("onboarding_data",JSON.stringify(a))},w=t=>c.value.includes(t),O=()=>{const t=JSON.parse(localStorage.getItem("onboarding_data"));d.value=!1,m.value=!0,t.skip_smtp=m.value,localStorage.setItem("onboarding_data",JSON.stringify(t))},J=async()=>{const t=JSON.parse(localStorage.getItem("onboarding_data"));t.email_config=o.value;try{await U(),localStorage.setItem("onboarding_data",JSON.stringify(t)),M.push({name:"avatar-created"})}catch(a){console.error(a)}};return B(()=>{const t=JSON.parse(localStorage.getItem("onboarding_data"));c.value=(t==null?void 0:t.avatar_agents)||[],m.value=(t==null?void 0:t.skip_smtp)||!1,o.value=(t==null?void 0:t.email_config)||{},m.value||c.value.includes("email-agent")&&(d.value=!0),feather.replace()}),(t,a)=>{const _=j("router-link");return L(),I("div",Z,[ee,e("div",te,[e("div",ae,[e("div",se,[e("div",oe,[le,ce,e("div",ie,[e("div",re,[e("input",{class:"form-check-input float-end",type:"checkbox",role:"switch",id:"search-agent",onClick:a[0]||(a[0]=s=>x("search-agent")),checked:w("search-agent")},null,8,ne)])])])])]),e("div",de,[e("div",ve,[e("div",_e,[pe,ue,e("div",me,[e("div",fe,[e("input",{class:"form-check-input float-end",type:"checkbox",role:"switch",id:"search-agent ",onClick:a[1]||(a[1]=s=>x("email-agent")),checked:w("email-agent")},null,8,he)])])])])]),ge]),d.value?(L(),I("div",be,[e("div",ye,[e("div",Se,[e("div",xe,[we,e("div",ke,[e("div",Ae,[e("div",Ie,[r(e("input",{type:"text",class:"form-control",id:"smtp-server",placeholder:"mail.example.com","onUpdate:modelValue":a[2]||(a[2]=s=>o.value.smtp_server=s)},null,512),[[n,o.value.smtp_server]]),Le])]),e("div",Me,[e("div",Ne,[r(e("select",{"onUpdate:modelValue":a[3]||(a[3]=s=>o.value.encryption=s),class:"form-select model-select","aria-label":"Select Model"},Ve,512),[[q,o.value.encryption]]),De])]),e("div",Ce,[e("div",Ue,[r(e("input",{type:"text",class:"form-control",id:"smtp-port",placeholder:"587","onUpdate:modelValue":a[4]||(a[4]=s=>o.value.smtp_port=s)},null,512),[[n,o.value.smtp_port]]),Oe])])]),e("div",Je,[e("div",Re,[e("div",Ee,[r(e("input",{type:"text",class:"form-control",id:"smtp-username",placeholder:"username","onUpdate:modelValue":a[5]||(a[5]=s=>o.value.username=s)},null,512),[[n,o.value.username]]),Pe])]),e("div",Ge,[e("div",Be,[r(e("input",{type:"password",class:"form-control",id:"smtp-password",placeholder:"password","onUpdate:modelValue":a[6]||(a[6]=s=>o.value.password=s)},null,512),[[n,o.value.password]]),qe])])]),e("div",ze,[e("div",Ye,[e("div",$e,[r(e("input",{type:"text",class:"form-control",id:"sender",placeholder:"sender","onUpdate:modelValue":a[7]||(a[7]=s=>o.value.sender=s)},null,512),[[n,o.value.sender]]),Ke])]),e("div",je,[e("div",Fe,[r(e("input",{type:"text",class:"form-control",id:"reply-to",placeholder:"reply-to","onUpdate:modelValue":a[8]||(a[8]=s=>o.value.reply_to=s)},null,512),[[n,o.value.reply_to]]),He])])]),e("div",{class:"row mt-1"},[e("div",{class:"col-10 offset-1"},[e("p",{class:"text-info fs-4"},[p("You can setup your email agent later. "),e("a",{href:"#",onClick:O},"Skip for now")])])])])])])])):z("",!0),e("div",Qe,[e("div",We,[Y(_,{to:{name:"choose-model"},class:"btn btn-primary btn-lg btn-back"},{default:$(()=>[p("Back")]),_:1})]),e("div",{class:"col-4 text-center d-grid"},[e("button",{class:"btn btn-primary btn-lg",onClick:J},"Next")])])])}}},st=E(Xe,[["__scopeId","data-v-184f3239"]]);export{st as default};
