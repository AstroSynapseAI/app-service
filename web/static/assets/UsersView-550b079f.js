import{_ as y,T as w,v as U,t as k,b as i,o as g,d as c,e as t,N as I,P as S,l as o,A as x,M as D,j as L,k as C,i as u,p as V,n as N}from"./index-7a4cb04d.js";const a=r=>(V("data-v-200f3108"),r=r(),N(),r),A={class:"container"},M={class:"modal-dialog"},T={class:"modal-content"},$={class:"modal-header"},B=a(()=>t("h5",{class:"modal-title"},"Invite New User",-1)),R={class:"modal-body container"},j={class:"row"},z={class:"col-12"},E={class:"form-floating mb-3"},F=a(()=>t("label",{for:"floatingInput"},"Username",-1)),P=a(()=>t("p",null,"Invite Link: ",-1)),q={class:"modal-footer"},G={class:"table-responsive"},H={class:"table table-striped"},J=a(()=>t("thead",null,[t("tr",null,[t("th",null,"Username"),t("th",null,"Avatar"),t("th",null,"Last Login"),t("th",null,"Invited on"),t("th",null,"Invite Link"),t("th",null,"Actions")])],-1)),K=a(()=>t("td",null,"Delete",-1)),O={__name:"UsersView",setup(r){const h=w(),v=U(),m=k(v,"records"),l=i(!1),d=i(""),_=i(""),p=i("https://dev.asai.astrosynapse.ai"),f=n=>{if(n){const e=n.find(s=>s.role.permission==="owner");return e?e.avatar.name:""}return""},b=async()=>{try{const n=await h.inviteUser(d.value);n&&(_.value=n.invite_token)}catch(n){console.error(n)}};return g(async()=>{try{await v.getUsers()}catch(n){console.error(n)}feather.replace()}),(n,e)=>(u(),c("div",A,[t("div",{class:x(["modal",{"d-block":l.value,show:l.value}])},[t("div",M,[t("div",T,[t("div",$,[B,t("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=s=>l.value=!1)})]),t("div",R,[t("div",j,[t("div",z,[t("div",E,[I(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>d.value=s),type:"text",class:"form-control",id:"floatingInput",placeholder:"Username"},null,512),[[S,d.value]]),F]),P,t("p",null,[t("pre",null,o(p.value)+"/register/"+o(_.value),1)])])])]),t("div",q,[t("button",{type:"button",class:"btn btn-secondary",onClick:e[2]||(e[2]=s=>l.value=!1)},"Close"),t("button",{type:"button",class:"btn btn-primary",onClick:e[3]||(e[3]=s=>b())},"Invite")])])])],2),t("h1",null,[D("Users "),t("button",{class:"btn btn-primary float-end",onClick:e[4]||(e[4]=s=>l.value=!0)},"Invite User")]),t("div",G,[t("table",H,[J,t("tbody",null,[(u(!0),c(L,null,C(m.value,s=>(u(),c("tr",{key:s.id},[t("td",null,o(s.username),1),t("td",null,o(f(s.roles)),1),t("td",null,o(new Date().toLocaleDateString()),1),t("td",null,o(new Date().toLocaleDateString()),1),t("td",null,[t("pre",null,o(p.value)+"/register/"+o(s.invite_token),1)]),K]))),128))])])])]))}},W=y(O,[["__scopeId","data-v-200f3108"]]);export{W as default};
